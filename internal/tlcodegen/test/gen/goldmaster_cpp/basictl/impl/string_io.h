// Code generated by vktl/cmd/tlgen2; DO NOT EDIT.
// Code generated by vktl/cmd/tlgen2; DO NOT EDIT.
#ifndef BASICTL_CPP_STRING_IO_H
#define BASICTL_CPP_STRING_IO_H

#include "basictl/io_connectors.h"

namespace tlgen::basictl {
    class tl_istream_string : public tl_input_connector {
    public:
        explicit tl_istream_string(const std::string & buffer) : buffer(buffer) {}

        tl_connector_result<std::span<const std::byte>> get_buffer() noexcept override;
        void advance(size_t size) noexcept override;

        std::span<const std::byte> used_buffer();
    private:
        const std::string & buffer;
        size_t used_size = 0;
    };

    class tl_ostream_string : public tl_output_connector {
    public:
        explicit tl_ostream_string(std::string & buffer) : buffer(buffer) {}

        tl_connector_result<std::span<std::byte>> get_buffer() noexcept override;
        void advance(size_t size) noexcept override;

        std::span<std::byte> used_buffer();
    private:
        std::string & buffer;
        size_t used_size = 0;
    };
};

#endif //BASICTL_CPP_STRING_IO_H
